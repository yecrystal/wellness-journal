<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sonder.</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image/png" href="./images/logo.png"/>
  </head>
  <body>
    <section>

      <!-- STICKERS -->
      <div class="sticker-bar">
        <div class="sticker">
          <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
          <div id="sticker-header">
            <img id="sticker-image" src="images/happy.png"/>
          </div>
        </div>

        <div class="sticker">
          <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
          <div id="sticker-header">
            <img id="sticker-image" src="images/angry.png"/>
          </div>
        </div>

        <div class="sticker">
          <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
          <div id="sticker-header">
            <img id="sticker-image" src="images/tired.png"/>
          </div>
        </div>

        <div class="sticker">
          <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
          <div id="sticker-header">
            <img id="sticker-image" src="images/okay.png"/>
          </div>
        </div>

        <div class="sticker">
          <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
          <div id="sticker-header">
            <img id="sticker-image" src="images/sad.png"/>
          </div>
        </div>
      </div>  
      
      <!-- CREATE ENTRY BUTTON -->
      <div class="container">
        <div class="top-buttons">
          <button class="btn">Create New Entry</button>
          <button class="btn" id="capture-screenshot">Save Journal Entry</button>
          <button class="btn" onClick="document.getElementById('previous').scrollIntoView();"">Go to Previous Entries</button>
        </div>
        
        
        <div class="entries-container">
          <!-- Add your entries here -->
        </div>
      </div>
    </section>
    <section>
      <div class="previous-entries">
        <h1 id="previous">Previous Entry</h1>
        <button class="btn" img src=""></button>
      </div>
    </section>
    <script src="script.js"></script>
    <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript"
    src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type="text/javascript">  
        $('#capture-screenshot').click(function() {
            const screenshotTarget = document.body;
            html2canvas(screenshotTarget).then(canvas => {
            	// to image as png use below line
              const base64image = canvas.toDataURL("image/png");
            	// show the image in window use below line
                // window.location.href = base64image;
            	
            	// screenshot appended to the body as canvas
                document.body.appendChild(canvas);  
                dataURL = canvas.toDataURL();  
                // to print the screenshot in console use below line
                // console.log(dataURL);
                
                // following line is optional and it is to save the screenshot
                // on the server side. It initiates an ajax call
                pushScreenshotToServer(dataURL); 
            });  
        });
  
        function pushScreenshotToServer(dataURL) {  
            $.ajax({ 
                url: "push-screenshot.php",  
                type: "POST",  
                data: {  
                    image: dataURL  
                },  
                dataType: "html", 
                success: function() {  
                	console.log('Screenshot pushed to server.');
                }  
            });  
        }  
    </script>
  </body>
</html>
